<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <link href="site.css" media="screen" rel="stylesheet" type="text/css" />
    <title>Middleman: Getting Started</title>
  </head>
  <body>
  <header id="header">
    <div class="container">
      <h1>Middleman</h1>
      <p class="console">$ gem install middleman</p>
      <a class="toc-nav-link icon-arrow-down" href="index.html#toc">Menu</a>
    </div>
  </header>

  <div class="container">
    <nav id="toc">
          
      <div class="toc-block">
        <h3>Getting Started</h3>
        <p>Basics of Middleman</p>
        <ul>
          
            <li><a href="../about/index.html">About Middleman</a></li>
          
            <li><a href="index.html">Getting Started</a></li>
          
            <li><a href="../changelog/index.html">Middleman 3.0 Changelog</a></li>
          
        </ul>
      </div>
    
      <div class="toc-block">
        <h3>Templates</h3>
        <p>Powerful templates which compile</p>
        <ul>
          
            <li><a href="../../templates/coffeescript-sprockets/index.html">CoffeeScript &amp; Sprockets</a></li>
          
            <li><a href="../../community/3rd-party-project-templates/index.html">Community Project Templates</a></li>
          
            <li><a href="../../templates/nested-layouts/index.html">Nested Layouts</a></li>
          
            <li><a href="../../templates/sass-and-compass/index.html">Sass and Compass</a></li>
          
            <li><a href="../../templates/helpers/index.html">Template Helpers</a></li>
          
            <li><a href="../../templates/templates-layouts-partials/index.html">Templates, Layouts &amp; Partials</a></li>
          
        </ul>
      </div>
    
      <div class="toc-block">
        <h3>Metadata</h3>
        <p>Structured data about pages</p>
        <ul>
          
            <li><a href="../../metadata/yaml-frontmatter/index.html">Individual Page Configuration (YAML Frontmatter)</a></li>
          
            <li><a href="../../metadata/local-data/index.html">Local YAML Data</a></li>
          
            <li><a href="../../metadata/sitemap/index.html">The Sitemap</a></li>
          
        </ul>
      </div>
    
      <div class="toc-block">
        <h3>Advanced</h3>
        <p>Dive deeper</p>
        <ul>
          
            <li><a href="../../advanced/dynamic-pages/index.html">Dynamic Pages</a></li>
          
            <li><a href="../../advanced/file-size-optimization/index.html">File Size Optimization</a></li>
          
            <li><a href="../../advanced/improving-cacheability/index.html">Improving Cacheability</a></li>
          
            <li><a href="../../advanced/localization/index.html">Localization (i18n)</a></li>
          
            <li><a href="../../advanced/pretty-urls/index.html">Pretty URLs (Directory Indexes)</a></li>
          
            <li><a href="../../advanced/rack-middleware/index.html">Rack Middleware</a></li>
          
            <li><a href="../../advanced/speeding-up/index.html">Speeding Things Up</a></li>
          
        </ul>
      </div>
    
      <div class="toc-block">
        <h3>Extensions</h3>
        <p>Official Extensions</p>
        <ul>
          
            <li><a href="../../extensions/blog/index.html">Blogging Extension</a></li>
          
            <li><a href="../../community/3rd-party-extensions/index.html">Community Extensions</a></li>
          
            <li><a href="../../extensions/custom/index.html">Custom Extensions</a></li>
          
        </ul>
      </div>
    
      <div class="toc-block">
        <h3>Community</h3>
        <p>More extensions and support</p>
        <ul>
          
            <li><a href="../../community/3rd-party-extensions/index.html">Community Extensions</a></li>
          
            <li><a href="../../community/3rd-party-project-templates/index.html">Community Project Templates</a></li>
          
            <li><a href="../../community/built-using-middleman/index.html">Sites Built Using Middleman</a></li>
          
            <li><a href="http://forum.middlemanapp.com/">Forum</a></li>
          
        </ul>
      </div>
    

    </nav>

    <article id="main" role="main">
      <h1>Getting Started</h1>

<p>Middleman is a command-line tool for creating static websites using all the shortcuts and tools of the modern web development environment.</p>

<p>Middleman assumes familiarity with the command-line. The Ruby language and the Sinatra web framework form the base of the tool. Familiarity with both will go a long way in helping users understand why Middleman works the way it does.</p>

<h2>Installation</h2>

<p>Middleman is distributed using the RubyGems package manager. This means you will need both the Ruby language runtime installed and RubyGems to begin using Middleman.</p>

<p>Mac OS X comes prepackaged with both Ruby and Rubygems, however, some of the Middleman&#39;s dependencies need to be compiled during installation and on OS X that requires Xcode. Xcode can be installed via the <a href="http://itunes.apple.com/us/app/xcode/id497799835?ls=1&amp;mt=12">Mac App Store</a>. Alternately, if you have a free Apple Developer account, you can just install Command Line Tools for Xcode from their <a href="https://developer.apple.com/downloads/index.action">downloads page</a>.</p>

<p>Once you have Ruby and RubyGems up and running, execute the following from the command line:</p>

<pre><code class="bash">gem install middleman
</code></pre>

<p>This will install Middleman, its dependencies and the command-line tools for using Middleman.</p>

<p>The installation process will add one new command to your environment, with 3 useful features:</p>

<ul>
<li>middleman init</li>
<li>middleman server</li>
<li>middleman build</li>
</ul>

<p>The uses of each of these commands will be covered below.</p>

<h2>Starting a New Site: middleman init</h2>

<p>To get started we will need to create a project folder for Middleman to work out of. You can do this using an existing folder or have Middleman create one for you using the <code>middleman init</code> command.</p>

<p>Simply point the command at the folder for your new site and Middleman will build a skeleton project in that folder (or create the folder for you).</p>

<pre><code class="bash">middleman init my_new_project
</code></pre>

<h3>The Skeleton</h3>

<p>Every new project creates a basic web development skeleton for you. This automates the construction of a hierarchy of folders and files that you can use in all of your projects.</p>

<p>A brand-new project will contain a <code>source</code> folder and a <code>config.rb</code> file. The source folder is where you will build your website. The skeleton project contains folders for javascript, css and images, but you can change these to match your own personal preferences.</p>

<p>The <code>config.rb</code> file contains settings for Middleman and commented documentation on how to enable complex features such as compile-time compression and &quot;blog mode.&quot;</p>

<h4>Gemfile</h4>

<p>Middleman will respect a Bundler Gemfile for locking down your gem dependencies. When creating a new project, Middleman will generate a Gemfile for you which specifies the same version of Middleman you are using. This will lock Middleman to this specific release series (the 2.x series, for example).</p>

<h4>config.ru</h4>

<p>A config.ru file describes how the site should be loaded by a Rack-enabled webserver. This file is provided as a convenience for users wishing to host their Middleman site in development mode on a Rack-based host such as Heroku.</p>

<p>To include a boilerplate <code>config.ru</code> file in your project, add the <code>--rack</code> flag to the init command:</p>

<pre><code class="bash">middleman init my_new_project --rack
</code></pre>

<h3>Project Templates</h3>

<p>In addition to the default basic skeleton, Middleman comes with an optional project template based on the <a href="http://html5boilerplate.com/">HTML5 Boilerplate</a> project. Alternative templates can be accessed using the <code>-t</code> or <code>--template</code> command-line flags. For example, to start a new project based on HTML5 Boilerplate, run this command:</p>

<pre><code class="bash">middleman init my_new_boilerplate_project --template=html5
</code></pre>

<p>Finally, you can create your own custom template skeletons by creating folders in the <code>~/.middleman/</code> folder. For example, I can create a folder at <code>~/.middleman/mobile/</code> and fill it with files I intend to use on mobile projects.</p>

<p>If you run middleman init with the help flag, you will see a list of all the possible templates it has detected:</p>

<pre><code class="bash">middleman init --help
</code></pre>

<p>This will list my custom mobile framework and I can create new projects based on it as before:</p>

<pre><code class="bash">middleman init my_new_mobile_project --template=mobile
</code></pre>

<h3>Included Project Templates</h3>

<p>Middleman ships with a number of basic project templates:</p>

<p><strong><a href="http://html5boilerplate.com/">HTML5 Boilerplate</a></strong> </p>

<pre><code class="bash">middleman init my_new_mobile_project --template=html5
</code></pre>

<p><strong><a href="https://github.com/dannyprose/Middleman-HTML5BP-HAML">HTML5 Boilerplate: HAML &amp; SCSS</a></strong></p>

<pre><code class="bash">middleman init my_new_mobile_project --template=html5-haml
</code></pre>

<p><strong><a href="https://github.com/nsteiner/middleman-smacss">SMACSS</a></strong></p>

<pre><code class="bash">middleman init my_new_mobile_project --template=smacss
</code></pre>

<h3>Community Project Templates</h3>

<p>There are also a number of <a href="../../community/3rd-party-project-templates/index.html">community-developed project templates</a>.</p>

<h2>The Development Cycle (middleman server)</h2>

<p>The Middleman separates your development and production code from the start. This allows you to utilize a bevy of tools (such as <a href="http://haml-lang.com">HAML</a>, <a href="http://sass-lang.com">SASS</a>, etc) during development that are unnecessary or undesirable in production.  We refer to these environments as The Development Cycle and the Static Site.</p>

<p>The vast majority of time spent using Middleman will be in the Development Cycle.</p>

<p>From the command-line, start the preview web-server from inside your project folder:</p>

<pre><code class="bash">cd my_project
bundle exec middleman server
</code></pre>

<p>This will start a local web server running at: http://localhost:4567/</p>

<p>You can create and edit files in the <code>source</code> folder and see the changes reflected on the preview web-server.</p>

<p>You can stop the preview server from the command-line using CTRL-C.</p>

<h3>Unadorned middleman command</h3>

<p>Running <code>middleman</code> without any commands is the same as starting a server.</p>

<pre><code class="bash">bundle exec middleman
</code></pre>

<p>This will do exactly the same thing as <code>middleman server</code>.</p>

<h3>When something goes wrong</h3>

<p>Under some circumstances(one known case is under Windows, see <a href="https://github.com/middleman/middleman/issues/101">here</a>), <code>middleman</code> might not work as expected, try using a full command instead:</p>

<pre><code class="bash">middleman server -p 4567 -e development
</code></pre>

<p>Under some circumstances(say if your config file has gone wild), middleman server might not be able to boot itself, and no error output can be seen on the console, don&#39;t panic, just try <code>middleman build</code> to see the full trace of the problem and fix it.</p>

<h2>Exporting the Static Site (middleman build)</h2>

<p>Finally, when you are ready to deliver static code or, in the case of &quot;blog mode&quot;, host a static blog, you will need to build the site. Using the command-line, from the project folder, run <code>middleman build</code>:</p>

<pre><code class="bash">cd my_project
bundle exec middleman build
</code></pre>

<p>This will create a static file for each file located in your <code>source</code> folder. Template files will be compiled, static files will be copied and any enabled build-time features (such as compression) will be executed. You can pass a <code>--clean</code> flag to <code>middleman build</code> to have it clean out any files from the build directory that are left over from earlier builds but would no longer be produced.</p>

    </article>

    <div id="support">
	<div class="donate">
	  <h4>Support This Project</h4>
	  <p><a href="https://spb.io/s/4dXbHBorC3" target="_blank">With a Donation</a></p>
	</div>

</div>
  </div>

    
    <footer id="footer">
      <div class="container">
        <p class="copyright">
          &copy; 2011 <a href="http://awardwinningfjords.com">Thomas Reynolds</a>.
        </p>
        <p class="link"><a href="https://github.com/middleman/middleman-guides/blob/master/source/getting-started/welcome.html.markdown">Fork and edit this guide on Github</a></p>
      </div>
    </footer>


  </body>
</html>